---
- hosts: ios
  gather_facts: no
  connection: local
#  validate_certs: False

  tasks:
  - name: DEFINE PROVIDER
    set_fact:
     provider:
       host: "{{ ansible_host }}"
       username: "{{ username }}"
       password: "{{ password }}"
       auth_pass: "{{ auth_pass }}
#       validate_certs: no

  #- name: Set authorized key without validating the TLS/SSL certificates
  #  authorized_key:
  #    user: kamlesh
  #    state: present
  #    validate_certs: False

  - name: Reading catalyst...
    ios_command:
      provider: "{{ provider }}"
      authorize: yes
      commands:
       - show run interface {{ iface }}
    register: out
  - name: Output
    debug: var=out.stdout_lines
